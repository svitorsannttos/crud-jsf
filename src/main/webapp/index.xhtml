<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Cadastrar Estudante</title>
</h:head>

<h:body>

    <h:form id="form">
        <h2>Informe os dados do Estudante</h2>
        <table>
            <tr>
                <td>Nome</td>
                <td><h:inputText value="#{estudanteRegistrarBean.estudante.nome}" required="true"/></td>
            </tr>
            <tr>
                <td>Sobrenome</td>
                <td><h:inputText value="#{estudanteRegistrarBean.estudante.sobrenome}" required="true"/></td>
            </tr>
            <tr>
                <td>Nota 1</td>
                <td><h:inputText value="#{estudanteRegistrarBean.estudante.nota1}" required="true"
                                 requiredMessage="Campo Nota 1 deve ser preenchido!"
                                 converterMessage="Campo deve ser númerico!">
                    <f:convertNumber integerOnly="true" minIntegerDigits="1"/></h:inputText></td>
            </tr>
            <tr>
                <td>Nota 2</td>
                <td><h:inputText value="#{estudanteRegistrarBean.estudante.nota2}" required="true"
                                 requiredMessage="Campo Nota 2 deve ser preenchido!"
                                 converterMessage="Campo deve ser númerico!">
                    <f:convertNumber integerOnly="true" minIntegerDigits="1"/></h:inputText></td>
            </tr>
            <tr>
                <td>Nota 3</td>
                <td><h:inputText value="#{estudanteRegistrarBean.estudante.nota3}" required="true"
                                 requiredMessage="Campo Nota 3 deve ser preenchido!"
                                 converterMessage="Campo deve ser númerico!">
                    <f:convertNumber integerOnly="true" minIntegerDigits="1"/></h:inputText></td>
            </tr>
            <tr>
                <td>Nota 4</td>
                <td><h:inputText value="#{estudanteRegistrarBean.estudante.nota4}" required="true"
                                 requiredMessage="Campo Nota 4 deve ser preenchido!"
                                 converterMessage="Campo deve ser númerico!">
                    <f:convertNumber integerOnly="true" minIntegerDigits="1"/></h:inputText></td>
            </tr>
            <tr>
                <td>Turno</td>
                <td><h:inputText value="#{estudanteRegistrarBean.estudante.turno}" required="true"/></td>
            </tr>
        </table>
        <p>
            <h:commandButton value="Cadastrar" type="submit" onkeypress="$('#form\\:inputEnter').onchange();">
                <f:ajax render="estudanteGrid" listener="#{estudanteRegistrarBean.registrarEstudante()}" execute="form"/>
            </h:commandButton>
            <h:commandButton  value="Limpar" type="reset" action= "#{estudanteRegistrarBean.clean()}" update="form">
            </h:commandButton>
        </p>

    </h:form>

    <h:panelGrid id="estudanteGrid">
        <ui:repeat value="#{estudanteRegistrarBean.estudantes}" var="estudante">
            <h:outputLabel value="#{estudante.toString()}" rendered="#{estudanteRegistrarBean.estudantesIsNotEmpty()}"/><br/>
        </ui:repeat>
    </h:panelGrid>


</h:body>

</html>
